{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41971380-5e7df6cf95dc1cfc66e370c4e';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\nconst galleryList = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\ngalleryList.style.display = 'none';\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const query = encodeURIComponent(searchInput.value.trim());\n\n  if (query.trim() === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n\n  getPicture(query)\n    .then(data => {\n      galleryList.innerHTML = '';\n      galleryList.insertAdjacentHTML('beforeend', createCardMarkup(data.hits));\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n\nfunction getPicture(name) {\n  const urlParams = new URLSearchParams({\n    key: API_KEY,\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}?${urlParams}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n\nfunction createCardMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n    </li>\n        <div class=\"block\">\n             <div>\n              <h2 class=\"title\">Likes</h2>\n              <p class=\"amount\"> ${likes}</p>\n            </div>\n             <div>\n              <h2 class=\"title\">Views</h2>\n              <p class=\"amount\"> ${views}</p>\n            </div>\n             <div>\n              <h2 class=\"title\">Comments</h2>\n              <p class=\"amount\"> ${comments}</p>\n            </div>\n             <div>\n              <h2 class=\"title\">Downloads</h2>\n              <p class=\"amount\"> ${downloads}</p>\n            </div>\n        </div>`\n    )\n    .join('');\n}\n"],"names":["BASE_URL","API_KEY","searchForm","searchInput","galleryList","lightbox","SimpleLightbox","handleSearch","event","query","iziToast","getPicture","data","createCardMarkup","error","name","urlParams","res","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBASA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEDF,EAAY,MAAM,QAAU,OAC5BF,EAAW,iBAAiB,SAAUK,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,mBAAmBN,EAAY,MAAM,KAAM,CAAA,EAEzD,GAAIM,EAAM,KAAM,IAAK,GAAI,CACvBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDC,EAAWF,CAAK,EACb,KAAKG,GAAQ,CACZR,EAAY,UAAY,GACxBA,EAAY,mBAAmB,YAAaS,EAAiBD,EAAK,IAAI,CAAC,EAEvEP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBJ,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL,CAEA,SAASC,EAAWI,EAAM,CACxB,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAKf,EACL,EAAGc,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGf,CAAQ,IAAIgB,CAAS,EAAE,EAAE,KAAKC,GAAO,CACnD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,SAASJ,EAAiBK,EAAK,CAC7B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAOcC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mCAIRC,CAAS;AAAA;AAAA,eAGvC,EACA,KAAK,EAAE,CACZ"}